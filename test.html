<!DOCTYPE html>
<html>
<head>
  <style>
    #map_canvas { 
  border:1px solid black;
  height: 400px;
  width: 100%;
  border-radius: 4px;
}
  </style>

<script src="http://maps.googleapis.com/maps/api/js?sensor=false">

<script>
var locations = [
  ['Asia $19.99', 39.9042110,116.4073950, 4],
  ['North America $29.99', 40.712784,-74.005941, 5],
  ['Africa $9.99', -30.559482,22.937506, 3],
  ['Europe $29.99', 51.507351,-0.127758, 2],
  ['Australia $29.99', -33.950198, 151.259302, 1]
];
var map;
var markers = [];

function init(){
  map = new google.maps.Map(document.getElementById('map_canvas'), {
    zoom: 1,
    center: new google.maps.LatLng(-33.92, 151.25),
    mapTypeId: google.maps.MapTypeId.ROADMAP
  });

  var num_markers = locations.length;
  for (var i = 0; i < num_markers; i++) {  
    markers[i] = new google.maps.Marker({
      position: {lat:locations[i][1], lng:locations[i][2]},
      map: map,
      html: locations[i][0],
      id: i,
    });
      
    google.maps.event.addListener(markers[i], 'click', function(){
      var infowindow = new google.maps.InfoWindow({
        id: this.id,
        content:this.html,
        position:this.getPosition()
      });
      google.maps.event.addListenerOnce(infowindow, 'closeclick', function(){
        markers[this.id].setVisible(true);
      });
      this.setVisible(false);
      infowindow.open(map);
    });
  }
}

init();
</script>
</head>

<body>
<div id="map_canvas"></div>
</body>
</html>
